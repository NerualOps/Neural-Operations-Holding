<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <!-- Primary SEO Meta Tags -->
  <title>Contact Neural Operations - Get in Touch | AI Business Solutions</title>
  <meta name="title" content="Contact Neural Operations - Get in Touch | AI Business Solutions">
  <meta name="description" content="Contact Neural Operations for AI-powered business solutions. Get in touch about Epsilon AI, Neural CRM, and our intelligent automation services.">
  <meta name="keywords" content="contact Neural Operations, AI business solutions contact, Epsilon AI support, Neural CRM contact, business automation consultation">
  <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
  <meta name="author" content="Neural Operations & Holdings LLC">
  <link rel="canonical" href="https://neuralops.biz/contact">
  
  <!-- WebPage Schema -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "ContactPage",
    "name": "Contact Neural Operations",
    "description": "Contact Neural Operations for AI-powered business solutions. Get in touch about Epsilon AI, Neural CRM, and our intelligent automation services.",
    "url": "https://neuralops.biz/contact",
    "isPartOf": {
      "@type": "WebSite",
      "name": "Neural Operations",
      "url": "https://neuralops.biz",
      "potentialAction": {
        "@type": "SearchAction",
        "target": {
          "@type": "EntryPoint",
          "urlTemplate": "https://neuralops.biz/search?q={search_term_string}"
        },
        "query-input": "required name=search_term_string"
      }
    },
    "breadcrumb": {
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "https://neuralops.biz/"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Contact",
          "item": "https://neuralops.biz/contact"
        }
      ]
    },
    "mainEntity": {
      "@type": "Organization",
      "name": "Neural Operations",
      "url": "https://neuralops.biz",
      "contactPoint": {
        "@type": "ContactPoint",
        "contactType": "Customer Service",
        "email": "neuralops@neuralops.biz",
        "availableLanguage": "English"
      }
    }
  }
  </script>
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://neuralops.biz/contact">
  <meta property="og:title" content="Contact Neural Operations - Get in Touch | AI Business Solutions">
  <meta property="og:description" content="Contact Neural Operations for AI-powered business solutions. Get in touch about Epsilon AI, Neural CRM, and our intelligent automation services.">
  <meta property="og:image" content="https://neuralops.biz/images/neural-ops-og.jpg">
  <meta property="og:site_name" content="Neural Operations">
  <meta property="og:locale" content="en_US">
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://neuralops.biz/contact">
  <meta property="twitter:title" content="Contact Neural Operations - Get in Touch | AI Business Solutions">
  <meta property="twitter:description" content="Contact Neural Operations for AI-powered business solutions. Get in touch about Epsilon AI, Neural CRM, and our intelligent automation services.">
  <meta property="twitter:image" content="https://neuralops.biz/images/neural-ops-og.jpg">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  
  <!-- Performance: Resource Hints -->
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="dns-prefetch" href="https://fonts.googleapis.com">
  <link rel="dns-prefetch" href="https://fonts.gstatic.com">
  
  <!-- Async Font Loading -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400;500;600;700;800;900&family=JetBrains+Mono:wght@300;400;500;600;700&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
  <noscript><link href="https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400;500;600;700;800;900&family=JetBrains+Mono:wght@300;400;500;600;700&display=swap" rel="stylesheet"></noscript>
  <style>
    
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    /* Professional Design System - Ignition Precision */
    :root {
        --flame-core: #F97316;
        --flame-highlight: #FF8A3D;
        --flame-deep: #C2410C;
        --near-black: #0F0F0F;
        --soft-white: #FAFAFA;
        --ash-neutral: #A1A1AA;
    }
    
    body {
        font-family: 'Inter', sans-serif;
        background: var(--near-black);
        color: var(--soft-white);
        overflow-x: hidden;
        padding-top: 80px;
    }

    /* Navigation Styles - Matching epsilon.html */
    .top-left-nav { position: fixed; top: 1.5rem; left: 1.5rem; z-index: 2000; transition: left 0.35s ease; display: flex; align-items: center; gap: 0.5rem; }
    .home-logo-link { display: inline-flex; align-items: center; text-decoration: none; }
    .home-logo { height: 40px; width: auto; display: block; object-fit: contain; }
    @media (max-width: 768px) { .home-logo { height: 32px; } }
    .top-nav-button { 
        padding: 0.6rem 1.2rem; 
        background: transparent; 
        border: 1px solid var(--ash-neutral); 
        border-radius: 6px; 
        color: var(--soft-white); 
        text-decoration: none; 
        font-size: 0.85rem; 
        font-weight: 500; 
        transition: all 0.15s ease-out; 
    }
    .top-nav-button:hover { 
        border-color: var(--flame-core); 
        color: var(--flame-core); 
        background: rgba(249, 115, 22, 0.05);
    }
    .top-right-auth { position: fixed; top: 1.5rem; right: 1.5rem; z-index: 1999; display: none; gap: 0.75rem; transition: right 0.35s ease; }
    .top-right-profile { position: fixed; top: 1.5rem; right: 1.5rem; z-index: 2001; display: none; align-items: center; gap: 0.5rem; transition: right 0.35s ease; }

    .profile-bubble {
        width: 42px;
        height: 42px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        font-size: 1rem;
        color: var(--near-black);
        text-transform: uppercase;
        box-shadow: 0 0 16px rgba(249, 115, 22, 0.2);
        cursor: pointer;
        transition: all 0.15s ease-out;
        background: var(--flame-core);
    }

    .profile-bubble:hover {
        background: var(--flame-highlight);
        box-shadow: 0 0 24px rgba(249, 115, 22, 0.35);
    }

    .profile-dropdown {
        position: absolute;
        top: calc(100% + 0.5rem);
        right: 0;
        background: rgba(0, 0, 0, 0.95);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.15);
        border-radius: 12px;
        padding: 0.5rem;
        min-width: 200px;
        display: none;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.6);
    }

    .profile-dropdown.active {
        display: block;
    }

    .profile-dropdown-item {
        display: block;
        padding: 0.75rem 1rem;
        color: rgba(255, 255, 255, 0.9);
        text-decoration: none;
        border-radius: 8px;
        transition: all 0.2s ease;
        font-size: 0.9rem;
    }

    .profile-dropdown-item:hover {
        background: rgba(249, 115, 22, 0.1);
        color: var(--soft-white);
    }

    .profile-dropdown-item.logout {
        color: #ff3b30;
    }

    .profile-dropdown-item.logout:hover {
        background: rgba(255, 59, 48, 0.2);
    }

    @media (max-width: 768px) {
        .top-right-profile {
            top: 1rem;
            right: 1rem;
        }

        .profile-bubble {
            width: 42px;
            height: 42px;
            font-size: 1rem;
        }
    }

    /* Global navigation */
    .nav {
        display: none;
        position: fixed;
    top: 1.5rem;
        left: 50%;
        transform: translateX(-50%);
        z-index: 1000;
    background: rgba(0, 0, 0, 0.95);
    backdrop-filter: blur(30px) saturate(1.2);
    border: 1px solid rgba(255, 255, 255, 0.12);
    border-radius: 54px;
    padding: 0.9rem 1.35rem;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        display: flex;
        align-items: center;
    justify-content: center;
    gap: 0.65rem;
    width: min(1180px, calc(100% - 2.5rem));
    max-width: 100%;
    flex-wrap: nowrap;
    box-shadow: 
      0 8px 32px rgba(0, 0, 0, 0.6),
      0 2px 8px rgba(0, 0, 0, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.08);
    }

    .nav-content {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 0.75rem;
        width: 100%;
    }

    .nav:hover {
        background: rgba(0, 0, 0, 0.98);
        border-color: rgba(255, 255, 255, 0.2);
        transform: translateX(-50%) translateY(-4px);
        box-shadow: 
            0 16px 48px rgba(0, 0, 0, 0.7),
            0 4px 16px rgba(0, 0, 0, 0.35),
            inset 0 1px 0 rgba(255, 255, 255, 0.12);
    }

    .logo {
    font-size: 1.3rem;
        font-weight: 800;
        color: var(--soft-white);
        text-decoration: none;
        white-space: nowrap;
    margin-right: 1.2rem;
    }

    .nav-menu {
        display: flex;
    gap: 0.25rem;
        list-style: none;
        flex: 1;
        justify-content: center;
        align-items: center;
    }

    .nav-link {
    color: rgba(255, 255, 255, 0.85);
        text-decoration: none;
    font-size: 0.98rem;
        font-weight: 500;
    padding: 0.7rem 1rem;
        border-radius: 30px;
    position: relative;
    overflow: hidden;
    transition: all 0.35s ease;
  }

    .nav-link::before {
        content: '';
        position: absolute;
        inset: 0;
        border-radius: 32px;
        background: linear-gradient(135deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0));
        opacity: 0;
        transition: opacity 0.35s ease;
    }

    .nav-link:hover::before,
    .nav-link.active::before {
        opacity: 1;
    }

    .nav-link.active {
        color: var(--soft-white);
    }

  @media (max-width: 1360px) {
    .nav {
      width: min(1050px, calc(100% - 2rem));
      padding: 0.85rem 1.2rem;
      gap: 0.55rem;
    }

    .nav-menu {
      gap: 0.2rem;
    }

    .nav-link {
      font-size: 0.95rem;
      padding: 0.6rem 0.85rem;
    }

    .profile-pill {
      padding: 0.4rem 0.7rem;
    }

    .profile-pill .status-user {
      max-width: 115px;
    }

    .profile-pill .pill-email {
      display: none;
    }

    .login-status {
      padding: 0.3rem 0.45rem;
    }

    .contact-btn {
      padding: 0.55rem 1.05rem;
      font-size: 0.85rem;
    }
  }

  .nav-actions {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .profile-pill {
    display: flex;
    align-items: center;
    gap: 0.65rem;
    padding: 0.5rem 1rem;
    background: rgba(249, 115, 22, 0.05);
    border: 1px solid var(--ash-neutral);
    border-radius: 32px;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    color: #ffffff;
    box-shadow: 0 0 16px rgba(249, 115, 22, 0.1);
    position: relative;
    overflow: hidden;
  }

  .profile-pill::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
    transition: left 0.5s ease;
  }

  .profile-pill:hover::before {
    left: 100%;
  }

  .profile-pill .pill-initials {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background: var(--flame-core);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 0.9rem;
    color: #ffffff;
    text-transform: uppercase;
    box-shadow: 0 0 24px rgba(249, 115, 22, 0.2);
    flex-shrink: 0;
  }

  .profile-pill .pill-text {
    display: flex;
    flex-direction: column;
    line-height: 1.2;
    min-width: 0;
  }

  .profile-pill .status-user {
    font-size: 0.9rem;
    font-weight: 600;
    min-width: 0;
    max-width: 140px;
    overflow: hidden;
    text-overflow: ellipsis;
        white-space: nowrap;
    color: #ffffff;
    }

  .profile-pill .pill-email {
    display: none !important;
  }

  .profile-pill:hover {
    background: rgba(249, 115, 22, 0.1);
    border-color: var(--flame-core);
    box-shadow: 0 0 16px rgba(249, 115, 22, 0.2);
    transform: translateY(-1px);
  }

  .profile-pill:active {
    transform: translateY(0);
  }

  .login-status {
    display: flex;
    align-items: center;
    gap: 0.35rem;
    padding: 0.35rem 0.6rem;
    background: rgba(255, 255, 255, 0.06);
    border: 1px solid rgba(255, 255, 255, 0.15);
    border-radius: 20px;
    font-size: 0.8rem;
    }

  .status-logout {
        color: rgba(255, 255, 255, 0.8);
        text-decoration: none;
    padding: 0.15rem 0.45rem;
    border-radius: 14px;
        transition: all 0.12s ease-out;
    }

  .status-logout:hover {
    background: rgba(255, 59, 48, 0.2);
    color: #ff3b30;
    }

    .contact-btn {
    background: var(--flame-core);
        color: white;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.65rem 1.4rem;
    border-radius: 44px;
        text-decoration: none;
        font-weight: 600;
    font-size: 0.9rem;
    box-shadow:
      0 0 16px rgba(249, 115, 22, 0.15),
      inset 0 1px 0 rgba(255, 255, 255, 0.2);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    margin-left: 0.45rem;
    }

    .contact-btn:hover {
    transform: translateY(-2px);
    box-shadow:
      0 0 24px rgba(249, 115, 22, 0.2),
      inset 0 1px 0 rgba(255, 255, 255, 0.25);
    }

    /* Mobile Menu Button */
    .mobile-menu-btn {
        display: none;
        background: none;
        border: none;
        color: white;
    font-size: 1.4rem;
        cursor: pointer;
        padding: 0.5rem;
    border-radius: 10px;
        transition: all 0.12s ease-out;
    }

    .mobile-menu-btn:hover {
        background: rgba(255, 255, 255, 0.1);
    }

    /* Mobile Menu */
    .mobile-menu {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100vh;
        background: rgba(5, 5, 8, 0.98);
        backdrop-filter: blur(20px);
        z-index: 999;
        padding: 2rem;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        gap: 1rem;
    }

    .mobile-menu.active {
        display: flex;
    }

    .mobile-menu a {
        color: var(--neural-text);
        text-decoration: none;
        font-size: 1.25rem;
        font-weight: 600;
        padding: 0.5rem 1rem;
        transition: color 0.2s ease;
        display: inline-block;
    }

    .mobile-menu a:hover {
        color: var(--neural-secondary);
    }

  @media (max-width: 1024px) {
    body {
      padding-top: 100px;
    }

    .nav {
      width: calc(100% - 3rem);
      padding: 0.9rem 1.1rem;
      border-radius: 40px;
    }

    .nav-menu,
    .nav-actions {
      display: none;
    }

    .mobile-menu-btn {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .contact-container {
      padding: 100px 1.5rem 3rem;
    }
  }

  @media (max-width: 768px) {
    body {
      padding-top: 90px;
    }

    .nav {
      top: 0.75rem;
      padding: 0.75rem 0.9rem;
      border-radius: 28px;
      width: calc(100% - 1.5rem);
    }

    .contact-container {
      padding: 90px 1rem 2rem;
    }
    
    .contact-title {
      font-size: clamp(2.5rem, 6vw, 4rem);
      font-weight: 700;
      margin-bottom: 1rem;
      color: var(--soft-white);
      line-height: 0.95;
    }
    
    .contact-subtitle {
      font-size: 1.1rem;
      color: var(--ash-neutral);
      margin-bottom: 3rem;
    }
    
    .contact-methods {
      grid-template-columns: 1fr;
      gap: 1rem;
    }
    
    .contact-form-container {
      padding: 1.5rem;
      margin-top: 2rem;
    }
    
    .form-title {
      font-size: 1.25rem;
    }
    
    .priority-selector {
      grid-template-columns: 1fr;
    }
    
    .footer-content {
      flex-direction: column;
      gap: 1rem;
      text-align: center;
    }
  }

    /* Contact Page Styles - Simplified */
    .contact-page {
      min-height: 100vh;
      padding: 120px 0 6rem 0;
      background: var(--near-black);
    }

    .contact-container {
      max-width: 900px;
      margin: 0 auto;
      padding: 0 2rem;
    }
    
    @media (max-width: 768px) {
      .contact-container {
        padding: 0 1rem;
      }
      .contact-title {
        font-size: 2rem;
      }
      .contact-subtitle {
        font-size: 1rem;
      }
      .contact-methods {
        grid-template-columns: 1fr;
        gap: 1rem;
      }
      .contact-form-container {
        padding: 1.5rem;
        margin-top: 2rem;
      }
      .form-title {
        font-size: 1.25rem;
      }
      .priority-selector {
        grid-template-columns: 1fr;
      }
    }

    /* Contact Header - Simplified */
    .contact-header {
      text-align: center;
      margin-bottom: 3rem;
    }

    .contact-title {
      font-size: 3rem;
      font-weight: 700;
      margin-bottom: 1rem;
      color: #ffffff;
      line-height: 1.2;
    }

    .contact-subtitle {
      font-size: 1.1rem;
      color: rgba(255, 255, 255, 0.7);
      line-height: 1.6;
      margin-bottom: 3rem;
    }

    .contact-methods {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      margin-bottom: 3rem;
    }

    .contact-method {
      background: rgba(15, 15, 15, 0.5);
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: 6px;
      padding: 1.5rem;
      text-align: center;
      transition: all 0.12s ease-out;
      position: relative;
      overflow: hidden;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4), 0 2px 4px rgba(0, 0, 0, 0.2), 0 0 15px rgba(249, 115, 22, 0.12);
    }
    
    .contact-method:nth-child(1) {
      background: rgba(15, 15, 15, 0.6);
    }
    
    .contact-method::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: radial-gradient(circle at 50% 50%, rgba(249, 115, 22, 0.1) 0%, transparent 70%);
      opacity: 0;
      transition: opacity 0.3s ease;
      pointer-events: none;
    }
    
    .contact-method:hover::before {
      opacity: 1;
    }

    .contact-method:hover {
      background: rgba(249, 115, 22, 0.1);
      border-color: var(--flame-core);
      box-shadow: 0 6px 20px rgba(249, 115, 22, 0.2), 0 2px 8px rgba(0, 0, 0, 0.4), 0 0 20px rgba(249, 115, 22, 0.12);
      transform: translateY(-2px);
    }

    .method-title {
      font-size: 1rem;
      font-weight: 600;
      color: #ffffff;
      margin-bottom: 0.75rem;
    }

    .method-detail {
      color: var(--flame-core);
      font-weight: 500;
      text-decoration: none;
      font-size: 0.9rem;
      transition: color 0.3s ease;
    }

    .method-detail:hover {
      color: var(--flame-highlight);
      text-decoration: underline;
    }

    /* Contact Form - Simplified */
    .contact-form-container {
      background: rgba(15, 15, 15, 0.6);
      border-radius: 6px;
      padding: 2.5rem;
      margin-top: 3rem;
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.5), 0 2px 8px rgba(0, 0, 0, 0.3), 0 0 15px rgba(249, 115, 22, 0.12);
      border: 1px solid rgba(255, 255, 255, 0.08);
    }

    .form-header {
      text-align: center;
      margin-bottom: 2rem;
    }

    .form-title {
      font-size: 1.5rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
      background: linear-gradient(135deg, #ffffff 0%, var(--flame-highlight) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .form-subtitle {
      color: rgba(255, 255, 255, 0.6);
      font-size: 0.95rem;
    }

    .neural-form {
      display: flex;
      flex-direction: column;
      gap: 1.75rem;
    }
    
    .form-group:nth-child(1),
    .form-group:nth-child(2) {
      margin-bottom: 0.5rem;
    }
    
    .form-group:nth-child(4) {
      margin-top: 0.5rem;
    }

    .form-group {
      position: relative;
    }

    .form-input, .form-textarea, .form-select {
      width: 100%;
      padding: 1rem 1.25rem;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.15);
      border-radius: 10px;
      color: #ffffff;
      font-size: 1rem;
      font-family: 'Inter', sans-serif;
      transition: all 0.12s ease-out;
    }

    .form-select {
      background: rgba(255, 255, 255, 0.05);
      color: #ffffff;
      cursor: pointer;
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 1.25rem center;
      padding-right: 2.5rem;
    }

    .form-select option {
      background: var(--near-black);
      color: #ffffff;
      padding: 10px;
    }
    
    .form-select:hover {
      background: rgba(255, 255, 255, 0.08);
      border-color: rgba(255, 255, 255, 0.25);
    }

    .form-input:focus, .form-textarea:focus, .form-select:focus {
      outline: none;
      border-color: var(--flame-core);
      background: rgba(255, 255, 255, 0.08);
    }

    .form-label {
      position: absolute;
      top: 1.2rem;
      left: 1.5rem;
      color: #a0a0a0;
      font-size: 1rem;
      transition: all 0.12s ease-out;
      pointer-events: none;
      background: transparent;
      padding: 0;
    }
    
    /* Special handling for select labels - position above by default */
    .form-group:has(.form-select) .form-label {
      position: static;
      display: block;
      margin-bottom: 0.5rem;
      color: rgba(255, 255, 255, 0.8);
      font-size: 0.9rem;
      font-weight: 500;
      padding: 0;
      background: transparent;
    }

    .form-input:focus + .form-label,
    .form-input:not(:placeholder-shown) + .form-label,
    .form-textarea:focus + .form-label,
    .form-textarea:not(:placeholder-shown) + .form-label {
      top: -1.25rem;
      left: 0;
      font-size: 0.8rem;
      color: var(--flame-highlight);
      font-weight: 600;
      background: var(--near-black);
      padding: 0 0.25rem;
    }
    
    .form-select:focus ~ .form-label,
    .form-group:has(.form-select:focus) .form-label {
      color: var(--flame-highlight);
    }

    .form-textarea {
      min-height: 120px;
      resize: vertical;
    }

    .priority-selector {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 0.75rem;
      margin-top: 0.5rem;
    }

    .priority-option {
      padding: 0.875rem;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.15);
      border-radius: 8px;
      text-align: center;
      cursor: pointer;
      transition: all 0.12s ease-out;
      font-size: 0.85rem;
      color: rgba(255, 255, 255, 0.7);
    }

    .priority-option:hover {
      border-color: var(--flame-core);
      background: rgba(255, 255, 255, 0.08);
    }

    .priority-option.selected {
      border-color: var(--flame-core);
      background: rgba(90, 139, 216, 0.15);
      color: var(--flame-core);
      font-weight: 600;
    }

    .priority-indicator {
      display: block;
      font-size: 1.2rem;
      margin-bottom: 0.25rem;
      font-weight: 600;
    }

    .form-submit {
      padding: 1.25rem 2.5rem;
      background: var(--flame-core);
      color: #ffffff;
      border: none;
      border-radius: 10px;
      font-weight: 600;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.12s ease-out;
      margin-top: 1rem;
      width: 100%;
    }

    .form-submit:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(45, 138, 107, 0.3);
    }

    .form-submit:disabled {
      opacity: 0.7;
      cursor: not-allowed;
      transform: none;
    }

    .ai-suggestions {
      margin-top: 1.5rem;
      padding: 1.25rem;
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 10px;
      display: none;
    }

    .ai-suggestions.show {
      display: block;
    }

    .ai-title {
      font-size: 0.85rem;
      font-weight: 600;
      color: var(--flame-core);
      margin-bottom: 0.75rem;
    }

    .ai-suggestion {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 8px;
      padding: 0.75rem;
      margin-bottom: 0.5rem;
      cursor: pointer;
      transition: all 0.12s ease-out;
      font-size: 0.85rem;
      color: rgba(255, 255, 255, 0.7);
    }

    .ai-suggestion:hover {
      border-color: var(--flame-core);
      color: #ffffff;
    }

    .success-message {
      display: none;
      text-align: center;
      padding: 2rem;
      color: var(--flame-highlight);
    }

    .success-message.show {
      display: block;
      animation: fadeIn 0.5s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .back-button {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 1rem 2rem;
      background: rgba(255, 255, 255, 0.05);
      color: #ffffff;
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 8px;
      font-weight: 600;
      text-decoration: none;
      transition: all 0.12s ease-out;
      backdrop-filter: blur(10px);
      margin-top: 3rem;
    }

    .back-button:hover {
      background: rgba(255, 255, 255, 0.1);
      border-color: var(--flame-core);
      transform: translateY(-2px);
    }

    /* Footer - Same as index.html */
    .footer {
        background: linear-gradient(135deg, rgba(5, 5, 5, 1), rgba(0, 0, 0, 1));
        padding: 3rem 0 2rem;
        position: relative;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
    }

    .footer::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 2px;
        background: rgba(255, 255, 255, 0.1);
    }

    .footer-content {
        max-width: 1400px;
        margin: 0 auto;
        padding: 0 2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .footer-left {
        color: rgba(255, 255, 255, 0.6);
        font-size: 0.9rem;
    }

    .footer-right {
        display: flex;
        align-items: center;
        gap: 2rem;
    }

    .footer-links {
        display: flex;
        gap: 2rem;
        list-style: none;
    }

    .footer-links a {
        color: rgba(255, 255, 255, 0.6);
        text-decoration: none;
        font-size: 0.9rem;
        transition: all 0.12s ease-out;
    }

    .footer-links a:hover {
        color: rgba(255, 255, 255, 0.9);
    }

    .login-text {
        color: rgba(255, 255, 255, 0.7);
        text-decoration: none;
        font-size: 0.9rem;
        font-weight: 500;
        padding: 0.5rem 1rem;
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 20px;
        transition: all 0.12s ease-out;
    }

    .login-text:hover {
        color: rgba(255, 255, 255, 0.9);
        border-color: rgba(255, 255, 255, 0.3);
        background: rgba(255, 255, 255, 0.05);
    }

    /* Mobile Responsive */
    @media (max-width: 1024px) {
      .contact-container {
        grid-template-columns: 1fr;
        gap: 4rem;
        padding: 0 1.5rem;
      }

      .contact-info {
        position: static;
      }

      .nav {
        min-width: auto;
        width: calc(100% - 2rem);
        flex-direction: column;
        gap: 1rem;
        padding: 1rem;
        top: 1rem;
      }

      .nav-menu {
        gap: 1rem;
      }

      .nav-link, .login-btn {
        font-size: 0.8rem;
        padding: 0.3rem 0.8rem;
      }

      .contact-btn {
        margin-left: 0;
        padding: 0.5rem 1.2rem;
      }
    }

    @media (max-width: 768px) {
      .nav {
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
        padding: 1rem;
        top: 1rem;
        min-width: auto;
        width: calc(100% - 2rem);
      }

      .nav-menu {
        display: none;
      }

      .contact-btn {
        display: none;
      }

      .mobile-menu-btn {
        display: block;
      }

      .contact-title {
        font-size: 2.5rem;
      }

      .contact-form-container {
        padding: 2rem;
      }

      .priority-selector {
        grid-template-columns: 1fr;
      }

      .footer-content {
        flex-direction: column;
        gap: 1rem;
        text-align: center;
      }

      .footer-links {
        gap: 1rem;
      }
    }
        /* Site Footer */
        .site-footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(10, 15, 25, 0.95);
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(255, 255, 255, 0.05);
            padding: 0.75rem 2rem;
            z-index: 100;
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .footer-left {
            color: rgba(255, 255, 255, 0.4);
            font-size: 0.8rem;
        }

        .footer-left p {
            margin: 0;
        }

        .footer-right {
            display: flex;
            align-items: center;
        }

        .footer-links {
            display: flex;
            gap: 2rem;
            align-items: center;
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .footer-links a {
            color: rgba(255, 255, 255, 0.5);
            text-decoration: none;
            font-size: 0.8rem;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
        }

        .footer-links a:hover {
            color: rgba(255, 255, 255, 0.8);
        }

        .footer-divider {
            color: rgba(255, 255, 255, 0.3);
            margin: 0;
            display: flex;
            align-items: center;
            line-height: 1;
        }

        @media (max-width: 768px) {
            .site-footer {
                padding: 0.5rem 1rem;
            }

            .footer-content {
                flex-direction: column;
                gap: 0.5rem;
        text-align: center;
      }

      .footer-links {
        gap: 1rem;
      }
    }
  </style>
</head>
<body>

  <div class="top-left-nav">
      <a href="/" class="home-logo-link" aria-label="Home">
          <img src="/logo.png" alt="Neural Operations &amp; Holdings LLC" class="home-logo">
      </a>
  </div>
  
  <div class="top-right-auth" id="topRightAuth">
      <a href="/login" class="top-nav-button">Sign In</a>
      <a href="/register" class="top-nav-button">Register</a>
  </div>

  <div class="top-right-profile">
      <div class="profile-bubble" id="profileBubble"><span id="profileInitials">U</span></div>
      <div class="profile-dropdown" id="profileDropdown">
          <div id="profileName" style="padding: 0.75rem 1rem; color: rgba(255, 255, 255, 0.9); font-weight: 600; border-bottom: 1px solid rgba(255, 255, 255, 0.1);"></div>
          <a href="/epsilon" class="profile-dropdown-item">Epsilon AI</a>
          <a href="/about" class="profile-dropdown-item">About Us</a>
          <a href="/contact" class="profile-dropdown-item">Contact Us</a>
          <div style="border-top: 1px solid rgba(255, 255, 255, 0.1); margin: 0.5rem 0;"></div>
          <a href="/edit_profile" class="profile-dropdown-item">Edit Profile</a>
          <a href="/owner" class="profile-dropdown-item" id="ownerLink" style="display: none;">Owner Dashboard</a>
          <a href="#" class="profile-dropdown-item logout" id="profileLogout">Logout</a>
          </div>
  </div>
  
  <main class="contact-page">
    <div class="contact-container">
      <div class="contact-header">
        <h1 class="contact-title">Contact Us</h1>
        <p class="contact-subtitle">
          Get in touch with our team about <a href="/epsilon" style="color: rgba(255, 255, 255, 0.9); text-decoration: underline;">Epsilon AI</a>, <a href="/about" style="color: rgba(255, 255, 255, 0.9); text-decoration: underline;">Neural Operations</a> solutions, or our <a href="/" style="color: rgba(255, 255, 255, 0.9); text-decoration: underline;">AI-powered business automation</a> services. We'll respond within 24 hours.
        </p>
      </div>

      <div class="contact-methods">
        <div class="contact-method">
          <div class="method-title">Email</div>
          <a href="mailto:neuralops@neuralops.biz" class="method-detail">neuralops@neuralops.biz</a>
        </div>

        <div class="contact-method">
          <div class="method-title">Support</div>
          <a href="mailto:support@neuralops.biz" class="method-detail">support@neuralops.biz</a>
        </div>

        <div class="contact-method">
          <div class="method-title">Admin</div>
          <a href="mailto:admin@neuralops.biz" class="method-detail">admin@neuralops.biz</a>
        </div>
      </div>

      <div class="contact-form-container">
        <div class="form-header">
          <h2 class="form-title">Send a Message</h2>
          <p class="form-subtitle">Fill out the form below and we'll get back to you soon</p>
        </div>

        <form class="neural-form" id="neuralForm">
          <div class="form-group">
            <input type="text" class="form-input" id="name" name="name" placeholder=" " required>
            <label for="name" class="form-label">Name</label>
          </div>

          <div class="form-group">
            <input type="email" class="form-input" id="email" name="email" placeholder=" " required>
            <label for="email" class="form-label">Email</label>
          </div>

          <div class="form-group">
            <input type="text" class="form-input" id="company" name="company" placeholder=" ">
            <label for="company" class="form-label">Company (Optional)</label>
          </div>

          <div class="form-group">
            <label for="inquiry" class="form-label" style="position: static; display: block; margin-bottom: 0.5rem; color: rgba(255, 255, 255, 0.8); font-size: 0.9rem; font-weight: 500;">Inquiry Type</label>
            <select class="form-select" id="inquiry" name="inquiry" required>
              <option value="">Select Inquiry Type</option>
              <option value="assessment">Assessment Request</option>
              <option value="automation">Automation Inquiry</option>
              <option value="integration">Integration</option>
              <option value="support">Support Request</option>
              <option value="partnership">Partnership</option>
              <option value="other">Other</option>
            </select>
          </div>

          <div class="form-group">
            <label class="form-label" style="position: static; background: none; padding: 0; color: #ffffff; font-weight: 600; margin-bottom: 0.75rem; display: block;">Priority</label>
            <div class="priority-selector">
              <div class="priority-option" data-priority="low">
                <span class="priority-indicator">LOW</span>
                <span>Standard</span>
              </div>
              <div class="priority-option" data-priority="medium">
                <span class="priority-indicator">MED</span>
                <span>Elevated</span>
              </div>
              <div class="priority-option" data-priority="high">
                <span class="priority-indicator">HIGH</span>
                <span>Critical</span>
              </div>
            </div>
          </div>

          <div class="form-group">
            <textarea class="form-textarea" id="message" name="message" placeholder=" " required></textarea>
            <label for="message" class="form-label">Message</label>
          </div>

          <div class="ai-suggestions" id="aiSuggestions">
            <div class="ai-title">
              AI Optimization Suggestions
            </div>
            <div class="ai-suggestion" onclick="applySuggestion('Include specific metrics about current operational challenges')">
              Include specific metrics about current operational challenges
            </div>
            <div class="ai-suggestion" onclick="applySuggestion('Mention timeline requirements for implementation')">
              Mention timeline requirements for implementation
            </div>
            <div class="ai-suggestion" onclick="applySuggestion('Describe current team size and technical capabilities')">
              Describe current team size and technical capabilities
            </div>
          </div>

          <button type="submit" class="form-submit" id="submitBtn">
            Send Message
          </button>

          <div class="success-message" id="successMessage">
            <h3>Message Sent</h3>
            <p>Thank you for contacting us. We'll get back to you within 24 hours.</p>
          </div>
        </form>
      </div>
    </div>
  </main>


  <script>
    let cachedNavUser = null;

    function getStoredUser() {
        try {
            const raw = localStorage.getItem('epsilon_user');
            // Safety check: validate localStorage data
            if (!raw || typeof raw !== 'string' || raw.length > 10000) {
                return null;
            }
            const parsed = JSON.parse(raw);
            // Safety check: validate parsed user object
            if (!parsed || typeof parsed !== 'object' || Array.isArray(parsed)) {
                return null;
            }
            return parsed;
        } catch (err) {
            console.warn('Unable to parse stored user:', err);
            return null;
        }
    }

    function computeInitials(source) {
        // Safety check: validate input
        if (!source || typeof source !== 'string' || source.length > 100) {
            return 'U';
        }
        const tokens = source.trim().split(/\s+/).filter(Boolean);
        if (!tokens.length) return source.charAt(0).toUpperCase();
        return tokens.slice(0, 2).map(part => part.charAt(0)).join('').toUpperCase();
    }

    function updateNavForWidth(user) {
        const contactBtn = document.getElementById('contactBtn');
        const statusEmail = document.getElementById('statusEmail');

        if (contactBtn) {
            if (user && window.innerWidth <= 1240) {
                contactBtn.style.display = 'none';
            } else {
                contactBtn.style.display = 'inline-flex';
            }
        }

        if (statusEmail) {
            statusEmail.style.display = (user && window.innerWidth > 1440) ? 'inline' : 'none';
        }
    }

    function renderNavUser(user) {
        const profilePill = document.getElementById('profilePill');
        const loginStatus = document.getElementById('loginStatus');
        const statusUser = document.getElementById('statusUser');
        const statusEmail = document.getElementById('statusEmail');
        const statusInitials = document.getElementById('statusInitials');
        const statusLogout = document.getElementById('statusLogout');

        if (user && user.email && profilePill && statusUser && statusLogout) {
            // Safety check: validate user data
            if (typeof user.email !== 'string' || user.email.length > 255) {
                return;
            }
            const displayName = (user.name || user.full_name || '').trim() || user.email.split('@')[0];
            // Safety check: validate displayName length
            if (displayName.length > 100) {
                return;
            }
            statusUser.textContent = displayName;
            if (statusEmail) statusEmail.textContent = user.email;
            if (statusInitials) statusInitials.textContent = computeInitials(displayName || user.email);

            profilePill.style.display = 'flex';
            profilePill.onclick = () => window.location.href = '/edit_profile';

            if (loginStatus) loginStatus.style.display = 'flex';

            statusLogout.onclick = (e) => {
                e.preventDefault();
                localStorage.removeItem('epsilon_user');
                window.location.reload();
            };
        } else {
            if (profilePill) profilePill.style.display = 'none';
            if (loginStatus) loginStatus.style.display = 'none';
        }

        updateNavForWidth(user);
    }

    function syncNavUserState() {
        cachedNavUser = getStoredUser();
        renderNavUser(cachedNavUser);
    }

    syncNavUserState();
    window.addEventListener('resize', () => updateNavForWidth(cachedNavUser));

    async function getCsrfToken() {
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookie = cookies[i].trim().split('=');
            if (cookie[0] === 'csrfToken') {
                return cookie[1];
            }
        }
        var stored = localStorage.getItem('csrfToken');
        if (stored) return stored;
        try {
            var response = await fetch('/api/csrf-token', {
                method: 'GET',
                credentials: 'include'
            });
            if (response.ok) {
                var data = await response.json();
                if (data.token) {
                    localStorage.setItem('csrfToken', data.token);
                    return data.token;
                }
            }
        } catch (e) {}
        return '';
    }
    
    document.addEventListener('DOMContentLoaded', function() {
        getCsrfToken();
    });

    // Priority Selection
    document.querySelectorAll('.priority-option').forEach(option => {
      option.addEventListener('click', function() {
        document.querySelectorAll('.priority-option').forEach(opt => opt.classList.remove('selected'));
        this.classList.add('selected');
      });
    });

    // AI Suggestions
    const messageInput = document.getElementById('message');
    const aiSuggestions = document.getElementById('aiSuggestions');

    messageInput.addEventListener('focus', function() {
      if (this.value.length > 20) {
        aiSuggestions.classList.add('show');
      }
    });

    messageInput.addEventListener('input', function() {
      if (this.value.length > 50) {
        aiSuggestions.classList.add('show');
      } else {
        aiSuggestions.classList.remove('show');
      }
    });

    function applySuggestion(suggestion) {
      // Safety check: validate suggestion
      if (!suggestion || typeof suggestion !== 'string' || suggestion.length > 500) {
        return;
      }
      
      const currentMessage = messageInput.value;
      // Safety check: validate current message length (10KB max)
      if (currentMessage && currentMessage.length > 10000) {
        return;
      }
      
      const safeSuggestion = suggestion.trim().substring(0, 500);
      
      if (currentMessage && !currentMessage.includes(safeSuggestion)) {
        const newMessage = currentMessage + '\n\n' + safeSuggestion + ': ';
        // Safety check: ensure total length doesn't exceed 10KB
        if (newMessage.length <= 10000) {
          messageInput.value = newMessage;
        }
      } else if (!currentMessage) {
        messageInput.value = safeSuggestion + ': ';
      }
      messageInput.focus();
      aiSuggestions.classList.remove('show');
    }
    
    // Attach to window for global access
    window.applySuggestion = applySuggestion;

    // Form Submission
    document.getElementById('neuralForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const submitBtn = document.getElementById('submitBtn');
      const successMessage = document.getElementById('successMessage');
      const form = this;
      
      // Get form data
      const formData = new FormData(form);
      
      // Safety check: validate form inputs
      const name = formData.get('name');
      const email = formData.get('email');
      const company = formData.get('company');
      const inquiry = formData.get('inquiry');
      const message = formData.get('message');
      
      // Safety check: validate name (100 chars max)
      if (!name || typeof name !== 'string' || name.length > 100 || name.trim().length === 0) {
        alert('Please enter a valid name (max 100 characters)');
        return;
      }
      
      // Safety check: validate email (255 chars max, basic email format)
      if (!email || typeof email !== 'string' || email.length > 255 || !email.includes('@') || !email.includes('.')) {
        alert('Please enter a valid email address');
        return;
      }
      
      // Safety check: validate company (200 chars max, optional)
      if (company && (typeof company !== 'string' || company.length > 200)) {
        alert('Company name must be less than 200 characters');
        return;
      }
      
      // Safety check: validate inquiry (50 chars max)
      if (!inquiry || typeof inquiry !== 'string' || inquiry.length > 50) {
        alert('Please select a valid inquiry type');
        return;
      }
      
      // Safety check: validate message (10KB max)
      if (!message || typeof message !== 'string' || message.length > 10000 || message.trim().length === 0) {
        alert('Please enter a valid message (max 10KB)');
        return;
      }
      
      const priority = document.querySelector('.priority-option.selected')?.dataset.priority || 'standard';
      
      // Safety check: validate priority
      const validPriorities = ['low', 'medium', 'high', 'standard'];
      const safePriority = validPriorities.includes(priority) ? priority : 'standard';
      
      // Prepare email (sanitize inputs)
      const safeName = name.trim().substring(0, 100);
      const safeEmail = email.trim().substring(0, 255);
      const safeCompany = company ? company.trim().substring(0, 200) : 'Not specified';
      const safeInquiry = inquiry.trim().substring(0, 50);
      const safeMessage = message.trim().substring(0, 10000);
      
      const subject = `Neural Operations: ${safeInquiry} - ${safePriority.toUpperCase()} Priority`;
      const body = `
Neural Communication Protocol Initiated:

Identity: ${safeName}
Communication Channel: ${safeEmail}
Organization Node: ${safeCompany}
Operation Type: ${safeInquiry}
Priority Level: ${safePriority.toUpperCase()}

Neural Message:
${safeMessage}

---
Sent via Neural Contact Interface
Timestamp: ${new Date().toISOString()}
      `.trim();
      
      // Disable submit button
      submitBtn.disabled = true;
      submitBtn.textContent = 'Processing Neural Patterns...';
      
      // Create mailto link
      const mailtoLink = `mailto:neuralops@neuralops.biz?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
      
      // Simulate processing delay
      setTimeout(() => {
        window.location.href = mailtoLink;
        
        // Show success message
        form.style.display = 'none';
        successMessage.classList.add('show');
        
        // Reset after 5 seconds
        setTimeout(() => {
          form.style.display = 'flex';
          successMessage.classList.remove('show');
          form.reset();
          document.querySelectorAll('.priority-option').forEach(opt => opt.classList.remove('selected'));
          submitBtn.disabled = false;
          submitBtn.textContent = 'Initiate Neural Communication';
        }, 5000);
      }, 2000);
    });

    // Mobile menu functionality
    function toggleMobileMenu() {
      const mobileMenu = document.getElementById('mobileMenu');
    const menuBtn = document.getElementById('mobileMenuBtn');
    if (!mobileMenu || !menuBtn) return;

    const isActive = mobileMenu.classList.toggle('active');
    menuBtn.classList.toggle('active', isActive);
    document.body.classList.toggle('menu-open', isActive);
  }
  
  // Attach to window for global access
  window.toggleMobileMenu = toggleMobileMenu;

  function setActiveNavLink() {
    const path = window.location.pathname.replace(/index\.html$/i, '').replace(/\/$/, '') || '/';
    const navLinks = document.querySelectorAll('.nav-link');
    navLinks.forEach(link => {
      const target = link.getAttribute('href');
      if (target === path || (target === '/' && path === '/')) {
        link.classList.add('active');
      }
    });
    }

    document.addEventListener('DOMContentLoaded', function() {
      const mobileMenuBtn = document.getElementById('mobileMenuBtn');
    const mobileLinks = document.querySelectorAll('.mobile-menu a');
      if (mobileMenuBtn) {
        mobileMenuBtn.addEventListener('click', toggleMobileMenu);
      }
    mobileLinks.forEach(link => {
      link.addEventListener('click', () => {
        const mobileMenu = document.getElementById('mobileMenu');
        const menuBtn = document.getElementById('mobileMenuBtn');
        mobileMenu.classList.remove('active');
        menuBtn.classList.remove('active');
        document.body.classList.remove('menu-open');
      });
    });
    setActiveNavLink();
    });

    // Profile dropdown toggle - matching epsilon.html
    var profileBubble = document.getElementById('profileBubble');
    var profileDropdown = document.getElementById('profileDropdown');
    if (profileBubble) profileBubble.onclick = function() { if (profileDropdown) profileDropdown.classList.toggle('active'); };
    
    // Close dropdown when clicking outside
    document.addEventListener('click', function(e) {
        if (profileBubble && profileDropdown && !profileBubble.contains(e.target) && !profileDropdown.contains(e.target)) {
            profileDropdown.classList.remove('active');
        }
    });

    function getRandomColor() {
        const colors = [
            '#F97316', '#FF8A3D', '#EA580C', '#C2410C',
            '#F97316', '#FF8A3D', '#EA580C', '#C2410C',
            '#5a4a8a', '#6a5a9a', '#7a6aaa', '#8a7aba',
            '#6a5a4a', '#7a6a5a', '#8a7a6a', '#9a8a7a',
            '#4a6a8a', '#5a7a9a', '#6a8aaa', '#7a9aba'
        ];
        return colors[Math.floor(Math.random() * colors.length)];
    }

    // IMMEDIATE auth check - runs synchronously before page fully loads to prevent flash
    (function() {
        var userStr = localStorage.getItem('epsilon_user');
        var topRightAuth = document.getElementById('topRightAuth');
        var topRightProfile = document.querySelector('.top-right-profile');
        
        if (userStr) {
            try {
                var user = JSON.parse(userStr);
                if (user && user.id && user.email) {
                    if (topRightAuth) {
                        topRightAuth.style.display = 'none';
                        topRightAuth.style.visibility = 'hidden';
                        topRightAuth.style.opacity = '0';
                    }
                    if (topRightProfile) {
                        topRightProfile.style.display = 'flex';
                    }
                    return;
                }
            } catch (e) {}
        }
        
        if (topRightAuth) {
            topRightAuth.style.display = 'flex';
            topRightAuth.style.visibility = 'visible';
            topRightAuth.style.opacity = '1';
        }
        if (topRightProfile) {
            topRightProfile.style.display = 'none';
        }
    })();
    
    window.initProfileBubble = async function() {
        var userStr = localStorage.getItem('epsilon_user');
        var profileBubble = document.getElementById('profileBubble');
        var topRightProfile = document.querySelector('.top-right-profile');
        var topRightAuth = document.getElementById('topRightAuth');
        
        // If no user, hide profile bubble and show auth buttons
        if (!userStr) {
            if (topRightProfile) {
                topRightProfile.style.display = 'none';
            }
            if (topRightAuth) {
                topRightAuth.style.display = 'flex';
                topRightAuth.style.visibility = 'visible';
                topRightAuth.style.opacity = '1';
                topRightAuth.style.pointerEvents = 'auto';
                topRightAuth.style.zIndex = '1000';
            }
                    return;
                }
        
        var user = JSON.parse(userStr);
        var profileData = null;
        
        // Refresh user role and avatar from server
        try {
            const response = await fetch('/api/profile/me', {
                method: 'GET',
                credentials: 'include'
            });
            
            if (response.ok) {
                const result = await response.json();
                profileData = result.profile;
                if (profileData && profileData.role) {
                    user.role = profileData.role;
                    localStorage.setItem('epsilon_user', JSON.stringify(user));
                }
                if (profileData && profileData.avatar_url) {
                    user.avatar = profileData.avatar_url;
                    user.avatar_url = profileData.avatar_url;
                    localStorage.setItem('epsilon_user', JSON.stringify(user));
                }
            }
        } catch (error) {
            // Non-critical - continue with existing data
        }
        
        var profileInitials = document.getElementById('profileInitials');
        var profileName = document.getElementById('profileName');
        var ownerLink = document.getElementById('ownerLink');
        
        // Use name if available, otherwise use email
        var displayName = (user.name || user.full_name || user.email.split('@')[0]);
        var initial = displayName.charAt(0).toUpperCase();
        var colors = ['#F97316', '#FF8A3D', '#EA580C', '#C2410C', '#F97316', '#FF8A3D', '#EA580C'];
        var randomColor = colors[Math.floor(Math.random() * colors.length)];

        // Get avatar from profile if available
        var avatarUrl = null;
        if (profileData && profileData.avatar_url) {
            avatarUrl = profileData.avatar_url;
        } else if (user.avatar || user.avatar_url) {
            avatarUrl = user.avatar || user.avatar_url;
                }
        
        // Show profile bubble and hide auth buttons
        if (topRightProfile) {
            topRightProfile.style.display = 'flex';
        }
        if (topRightAuth) {
            topRightAuth.style.display = 'none';
            topRightAuth.style.visibility = 'hidden';
            topRightAuth.style.opacity = '0';
            topRightAuth.style.pointerEvents = 'none';
            topRightAuth.style.zIndex = '-1';
        }
        
        if (profileBubble) {
            profileBubble.style.display = 'flex';
            profileBubble.style.visibility = 'visible';
            profileBubble.style.opacity = '1';
            if (avatarUrl && avatarUrl.startsWith('data:image/')) {
                profileBubble.style.backgroundImage = 'url(' + avatarUrl + ')';
                profileBubble.style.backgroundSize = 'cover';
                profileBubble.style.backgroundPosition = 'center';
                profileBubble.style.backgroundColor = '';
                profileBubble.style.backgroundRepeat = 'no-repeat';
                if (profileInitials) {
                    profileInitials.style.display = 'none';
                    profileInitials.style.visibility = 'hidden';
                }
            } else {
                profileBubble.style.backgroundImage = 'none';
                profileBubble.style.backgroundColor = randomColor;
                profileBubble.style.background = randomColor;
                if (profileInitials) {
                    profileInitials.style.display = 'flex';
                    profileInitials.style.visibility = 'visible';
                    profileInitials.textContent = initial;
                }
            }
        }
        
        if (profileInitials) {
            if (avatarUrl && avatarUrl.startsWith('data:image/')) {
                profileInitials.style.display = 'none';
                profileInitials.style.visibility = 'hidden';
            } else {
                profileInitials.style.display = 'flex';
                profileInitials.style.visibility = 'visible';
                profileInitials.textContent = initial;
            }
        }
        
        if (profileName) {
            profileName.textContent = displayName;
        }
        
        if (ownerLink) {
            // Use profileData role if available (most up-to-date), otherwise use user.role
            const currentRole = (profileData && profileData.role) ? profileData.role : (user.role || 'client');
            if (currentRole === 'owner') {
                ownerLink.style.display = 'block';
            } else {
                ownerLink.style.display = 'none';
            }
        }
    };
    
    // Logout handler - matching epsilon.html
    var profileLogout = document.getElementById('profileLogout');
    if (profileLogout) profileLogout.onclick = function(e) { e.preventDefault(); localStorage.removeItem('epsilon_user'); window.location.reload(); };

    // Initialize profile bubble (non-blocking)
    if (window.initProfileBubble) {
        Promise.resolve().then(() => {
            window.initProfileBubble().catch(() => {});
        });
    }
    
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', function() {
            if (window.initProfileBubble) {
                window.initProfileBubble().catch(() => {});
            }
        });
    } else {
        if (window.initProfileBubble) {
            window.initProfileBubble().catch(() => {});
        }
    }
  </script>
  <!-- Epsilon AI system - dedicated page at epsilon.html -->

  <!-- Footer -->
  <footer class="site-footer">
      <div class="footer-content">
          <div class="footer-left">
              <p>&copy; 2025 Neural Op's is a division of Neural Operations & Holdings LLC. All rights reserved.</p>
          </div>
          <div class="footer-right">
              <div class="footer-links">
                  <a href="/about">About Us</a>
                  <span class="footer-divider"></span>
                  <a href="/contact">Contact</a>
                  <span class="footer-divider"></span>
                  <a href="/privacy">Privacy</a>
                  <span class="footer-divider"></span>
                  <a href="/terms">Terms of Service</a>
              </div>
          </div>
      </div>
  </footer>
  
  <!-- Cookie Consent Banner -->
  <div id="cookie-consent-banner" style="display: none; position: fixed; bottom: 0; left: 0; right: 0; background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); color: #ffffff; padding: 20px; box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.5); z-index: 10000; border-top: 1px solid #F97316; will-change: transform, opacity; backface-visibility: hidden;">
      <div style="max-width: 1200px; margin: 0 auto; display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 20px;">
          <div style="flex: 1; min-width: 300px;">
              <h3 style="margin: 0 0 10px 0; font-size: 18px; color: #F97316;"> Cookie & Privacy Notice</h3>
              <p style="margin: 0; font-size: 14px; line-height: 1.6; color: #e0e0e0;">
                  We use cookies and similar technologies to enhance your experience, analyze site traffic, and personalize content. 
                  By clicking "Accept All", you consent to our use of cookies. You can manage preferences or learn more in our 
                  <a href="/privacy" style="color: #F97316; text-decoration: underline;">Privacy Policy</a>.
              </p>
          </div>
          <div style="display: flex; gap: 10px; flex-wrap: wrap;">
              <button id="cookie-consent-preferences" style="padding: 10px 20px; background: transparent; border: 1px solid #F97316; color: #F97316; border-radius: 6px; cursor: pointer; font-weight: 600; transition: all 0.3s;">Preferences</button>
              <button id="cookie-consent-accept-all" style="padding: 10px 30px; background: #F97316; border: none; color: #ffffff; border-radius: 6px; cursor: pointer; font-weight: 600; transition: all 0.3s;">Accept All</button>
          </div>
      </div>
  </div>
  
  <!-- Cookie Preferences Modal -->
  <div id="cookie-preferences-modal" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.8); z-index: 10001; overflow-y: auto;">
      <div style="max-width: 800px; margin: 50px auto; background: #1a1a2e; border-radius: 12px; padding: 30px; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
              <h2 style="margin: 0; color: #F97316; font-size: 24px;">Cookie Preferences</h2>
              <button id="cookie-preferences-close" style="background: transparent; border: none; color: #ffffff; font-size: 28px; cursor: pointer; padding: 0; width: 30px; height: 30px;">&times;</button>
          </div>
          <div style="margin-bottom: 30px;">
              <p style="color: #e0e0e0; line-height: 1.6; margin-bottom: 20px;">Manage your cookie preferences. You can enable or disable different types of cookies below.</p>
              <div style="background: #0f1520; padding: 20px; border-radius: 8px; margin-bottom: 15px; border-left: 2px solid #F97316;">
                  <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                      <div><h3 style="margin: 0; color: #ffffff; font-size: 18px;">Essential Cookies</h3><p style="margin: 5px 0 0 0; color: #a0a0a0; font-size: 14px;">Required for website functionality</p></div>
                      <span style="color: #F97316; font-weight: 600;">Always Active</span>
                  </div>
              </div>
              <div style="background: #0f1520; padding: 20px; border-radius: 8px; margin-bottom: 15px;">
                  <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                      <div><h3 style="margin: 0; color: #ffffff; font-size: 18px;">Analytics Cookies</h3><p style="margin: 5px 0 0 0; color: #a0a0a0; font-size: 14px;">Help us improve our website</p></div>
                      <label style="position: relative; display: inline-block; width: 50px; height: 26px;"><input type="checkbox" id="cookie-analytics" style="opacity: 0; width: 0; height: 0;"><span style="position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #333; border-radius: 26px; transition: 0.3s;"><span style="position: absolute; content: ''; height: 20px; width: 20px; left: 3px; bottom: 3px; background-color: white; border-radius: 50%; transition: 0.3s;"></span></span></label>
                  </div>
              </div>
              <div style="background: #0f1520; padding: 20px; border-radius: 8px; margin-bottom: 15px;">
                  <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                      <div><h3 style="margin: 0; color: #ffffff; font-size: 18px;">Marketing Cookies</h3><p style="margin: 5px 0 0 0; color: #a0a0a0; font-size: 14px;">Personalize your experience</p></div>
                      <label style="position: relative; display: inline-block; width: 50px; height: 26px;"><input type="checkbox" id="cookie-marketing" style="opacity: 0; width: 0; height: 0;"><span style="position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #333; border-radius: 26px; transition: 0.3s;"><span style="position: absolute; content: ''; height: 20px; width: 20px; left: 3px; bottom: 3px; background-color: white; border-radius: 50%; transition: 0.3s;"></span></span></label>
                  </div>
              </div>
          </div>
          <div style="display: flex; gap: 10px; justify-content: flex-end;">
              <button id="cookie-preferences-save" style="padding: 12px 30px; background: #F97316; border: none; color: #ffffff; border-radius: 6px; cursor: pointer; font-weight: 600;">Save Preferences</button>
          </div>
      </div>
  </div>
  
  <!-- Analytics & Cookie Consent Scripts -->
  <script src="/analytics.js" defer></script>
  <script src="/cookie-consent.js" defer></script>
</body>
</html>
